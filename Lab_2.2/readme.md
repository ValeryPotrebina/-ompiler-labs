SPEC -> %class IDENT %tokens TOKENS %types TYPES %methods METHODS %grammar GRAMMAR %axiom IDENT %end

IDENT -> [a-zA-Z][a-zA-Z0-9_]*
TYPE -> IDENT([])?
TOKENS -> IDENT*

TYPES -> TYPEDEF*
TYPEDEF -> IDENT* : TYPE;

METHODS -> (METHOD_DEF;)*
METHOD_DEF -> TYPE METHOD(ARGS)
ARGS -> ARG*
ARG -> TYPE

GRAMMAR -> RULE_DEFS
RULE_DEFS -> RULE_DEF*
RULE_DEF -> IDENT = RULE_BODY;
RULE_BODY -> ALTER | RULE_BODY "|" ALTER
ALTER -> ALTER_CONTENT ("/" IDENT)?
ALTER_CONTENT -> ALTER_ELEMENT*
ALTER_ELEMENT -> (%rep)? (IDENT | "(" RULE_BODY ")")